{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/home-page/home-page.component.ts","webpack:///src/app/home-page/home-page.component.html","webpack:///src/app/libs/dom-to-image.js","webpack:///src/app/phone-feature-list/phone-feature-list.component.ts","webpack:///src/app/phone-feature-list/phone-feature-list.component.html","webpack:///src/app/phone-item/phone-item.component.ts","webpack:///src/app/phone-item/phone-item.component.html","webpack:///src/app/phone-list/phone-list.component.ts","webpack:///src/app/phone-list/phone-list.component.html","webpack:///src/app/pipes/background-image.pipe.ts","webpack:///src/app/printing-page/printing-page.component.ts","webpack:///src/app/promotion-list/promotion-list.component.ts","webpack:///src/app/promotion-list/promotion-list.component.html","webpack:///src/app/services/capture-screenshot.service.ts","webpack:///src/app/services/phone-flyer.service.ts","webpack:///src/app/services/phones.service.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","routes","path","pathMatch","component","AppRoutingModule","forRoot","imports","AppComponent","title","selector","templateUrl","styleUrls","materialModules","AppModule","declarations","providers","bootstrap","HomePageComponent","phoneFlyerService","captureService","selectedPhone","getSelectedPhone","salePerson","getSalePersonInfo","phone","setSalePersonInfo","setTimeout","node","document","getElementById","capture","name","onExport","global","util","newUtil","inliner","newInliner","fontFaces","newFontFaces","images","newImages","defaultOptions","imagePlaceholder","undefined","cacheBust","domtoimage","toSvg","toPng","toJpeg","toBlob","toPixelData","impl","options","copyOptions","cloneNode","filter","embedFonts","inlineImages","applyOptions","clone","makeSvgDataUri","width","height","bgcolor","style","backgroundColor","Object","forEach","property","draw","canvas","getContext","getImageData","data","toDataURL","quality","canvasToBlob","domNode","makeImage","delay","image","newCanvas","ctx","scale","drawImage","createElement","fillStyle","fillRect","root","makeNodeCopy","cloneChildren","processClone","HTMLCanvasElement","original","children","childNodes","length","cloneChildrenInOrder","asArray","parent","done","child","childClone","appendChild","Element","cloneStyle","clonePseudoElements","copyUserInput","fixSvg","copyStyle","window","getComputedStyle","source","target","cssText","copyProperties","setProperty","getPropertyValue","getPropertyPriority","element","clonePseudoElement","content","className","uid","styleElement","formatPseudoElementStyle","formatCssText","formatCssProperties","createTextNode","map","formatProperty","join","HTMLTextAreaElement","innerHTML","value","HTMLInputElement","setAttribute","SVGElement","SVGRectElement","attribute","getAttribute","resolveAll","styleNode","inlineAll","XMLSerializer","serializeToString","escapeXhtml","xhtml","foreignObject","svg","escape","parseExtension","mimeType","dataAsUrl","isDataUrl","resolveUrl","getAndEncode","mimes","WOFF","JPEG","url","match","exec","extension","toLowerCase","search","binaryString","atob","split","binaryArray","Uint8Array","i","charCodeAt","Blob","type","baseUrl","doc","implementation","createHTMLDocument","base","head","a","body","href","index","fourRandomChars","Math","random","pow","toString","slice","uri","reject","Image","onload","onerror","src","TIMEOUT","test","Date","getTime","request","XMLHttpRequest","onreadystatechange","ontimeout","timeout","responseType","open","send","placeholder","readyState","status","fail","encoder","FileReader","onloadend","result","readAsDataURL","response","message","console","error","string","replace","ms","arg","arrayLike","array","push","leftBorder","px","rightBorder","scrollWidth","topBorder","bottomBorder","scrollHeight","styleProperty","parseFloat","URL_REGEX","shouldProcess","readUrls","inline","get","dataUrl","urlAsRegex","RegExp","nothingToInline","urls","readAll","webFonts","all","webFont","cssStrings","styleSheets","getCssRules","selectWebFontRules","rules","newWebFont","cssRules","rule","CSSRule","FONT_FACE_RULE","sheet","bind","log","webFontRule","parentStyleSheet","newImage","inlineBackground","HTMLImageElement","background","inlined","PhoneFeatureListComponent","PhoneItemComponent","selected","emit","changeDetection","OnPush","PhoneListComponent","phoneService","router","phones$","getAllPhones","setSelectedPhone","BackgroundImagePipe","sanitization","defaultUrl","imageUrl","bypassSecurityTrustStyle","PrintingPageComponent","PromotionListComponent","CaptureScreenshotService","blob","SALE_PERSON_STORE_KEY","PhoneFlyerService","person","localStorage","setItem","JSON","stringify","getItem","parse","storeAddress","PhoneService","http","pipe","phones","picture","promotion","environment","production","bootstrapModule","err"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { HomePageComponent } from './home-page/home-page.component';\r\nimport { PrintingPageComponent } from './printing-page/printing-page.component';\r\n\r\n\r\nconst routes: Routes = [\r\n  { path: '', pathMatch: 'full', component: HomePageComponent },\r\n  { path: 'print', pathMatch: 'full', component: PrintingPageComponent }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  title = 'khuyenmai-oppo';\n}\n","<header>\r\n  <div class=\"title\">Thông tin khuyến mãi OPPO</div>\r\n</header>\r\n\r\n<main>\r\n  <router-outlet></router-outlet>\r\n</main>\r\n\r\n<footer>\r\n  <div>Sử dụng nội bộ cho nhân viên OPPO Việt Nam.</div>\r\n</footer>","import { MatSnackBarModule } from '@angular/material/snack-bar';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { HomePageComponent } from './home-page/home-page.component';\r\nimport { PrintingPageComponent } from './printing-page/printing-page.component';\r\nimport { PhoneListComponent } from './phone-list/phone-list.component';\r\nimport { PromotionListComponent } from './promotion-list/promotion-list.component';\r\nimport { PhoneFeatureListComponent } from './phone-feature-list/phone-feature-list.component';\r\nimport { NoopAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { PhoneService } from './services/phones.service';\r\nimport { PhoneFlyerService } from './services/phone-flyer.service';\r\nimport { CaptureScreenshotService } from './services/capture-screenshot.service';\r\nimport { PhoneItemComponent } from './phone-item/phone-item.component';\r\nimport {MatInputModule} from '@angular/material/input';\r\nimport { BackgroundImagePipe } from './pipes/background-image.pipe';\r\n\r\nconst materialModules = [\r\n  MatButtonModule,\r\n  MatIconModule,\r\n  MatInputModule,\r\n  MatSnackBarModule\r\n];\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    HomePageComponent,\r\n    PrintingPageComponent,\r\n    PhoneListComponent,\r\n    PromotionListComponent,\r\n    PhoneFeatureListComponent,\r\n    PhoneItemComponent,\r\n    BackgroundImagePipe\r\n  ],\r\n  imports: [\r\n    ...materialModules,\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    NoopAnimationsModule,\r\n    HttpClientModule,\r\n    FormsModule\r\n  ],\r\n  providers: [\r\n    PhoneService,\r\n    PhoneFlyerService,\r\n    CaptureScreenshotService\r\n  ],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { PhoneFlyerService } from '../services/phone-flyer.service';\r\nimport { SalePerson } from '../models/sale-person';\r\nimport { Phone } from '../models/phone';\r\nimport { CaptureScreenshotService } from '../services/capture-screenshot.service';\r\n\r\n@Component({\r\n  selector: 'app-home-page',\r\n  templateUrl: './home-page.component.html',\r\n  styleUrls: ['./home-page.component.scss']\r\n})\r\nexport class HomePageComponent implements OnInit {\r\n  selectedPhone: Phone;\r\n  salePerson: SalePerson;\r\n\r\n  constructor(\r\n    private phoneFlyerService: PhoneFlyerService,\r\n    private captureService: CaptureScreenshotService,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.selectedPhone = this.phoneFlyerService.getSelectedPhone();\r\n    this.salePerson = this.phoneFlyerService.getSalePersonInfo();\r\n  }\r\n\r\n  onExport(phone: Phone): void {\r\n    this.selectedPhone = phone;\r\n    this.phoneFlyerService.setSalePersonInfo(this.salePerson);\r\n  }\r\n\r\n  readyToExport(): void {\r\n    setTimeout(() => {\r\n      const node = document.getElementById('flyer-print-container');\r\n      if (!!node) {\r\n        this.captureService.capture(node, `${this.selectedPhone.name}-${this.salePerson.name}`);\r\n\r\n        setTimeout(() => {\r\n          this.selectedPhone = null;\r\n        }, 1500);\r\n      }\r\n    }, 500);\r\n  }\r\n\r\n}\r\n","<mat-form-field>\r\n  <mat-label><mat-icon>account_box</mat-icon> Tên nhân viên</mat-label>\r\n  <input matInput [(ngModel)]=\"salePerson.name\">\r\n</mat-form-field>\r\n<mat-form-field>\r\n  <mat-label><mat-icon>call</mat-icon> Số điện thoại</mat-label>\r\n  <input matInput [(ngModel)]=\"salePerson.phone\">\r\n</mat-form-field>\r\n<mat-form-field>\r\n  <mat-label>Địa chỉ cửa hàng</mat-label>\r\n  <input matInput [(ngModel)]=\"salePerson.storeAddress\">\r\n</mat-form-field>\r\n<app-phone-list\r\n  (selected)=\"onExport($event)\"\r\n></app-phone-list>\r\n\r\n<div id=\"flyer-print-container\" class=\"print-template\" *ngIf=\"!!selectedPhone\">\r\n    <img class=\"phone-frame\" [src]=\"selectedPhone.promotion\" (load)=\"readyToExport()\" />\r\n    <!-- <img class=\"phone-picture\" [src]=\"selectedPhone.picture\" /> -->\r\n\r\n    <div class=\"sale-person-info\">\r\n        <div class=\"name\">{{salePerson.name}}</div>\r\n        <div class=\"phone\">{{salePerson.phone}}</div>\r\n        <div class=\"address\">{{salePerson.storeAddress}}</div>\r\n    </div>\r\n\r\n</div>\r\n","(function (global) {\r\n    'use strict';\r\n\r\n    var util = newUtil();\r\n    var inliner = newInliner();\r\n    var fontFaces = newFontFaces();\r\n    var images = newImages();\r\n\r\n    // Default impl options\r\n    var defaultOptions = {\r\n        // Default is to fail on error, no placeholder\r\n        imagePlaceholder: undefined,\r\n        // Default cache bust is false, it will use the cache\r\n        cacheBust: false\r\n    };\r\n\r\n    var domtoimage = {\r\n        toSvg: toSvg,\r\n        toPng: toPng,\r\n        toJpeg: toJpeg,\r\n        toBlob: toBlob,\r\n        toPixelData: toPixelData,\r\n        impl: {\r\n            fontFaces: fontFaces,\r\n            images: images,\r\n            util: util,\r\n            inliner: inliner,\r\n            options: {}\r\n        }\r\n    };\r\n\r\n    if (typeof module !== 'undefined')\r\n        module.exports = domtoimage;\r\n    else\r\n        global.domtoimage = domtoimage;\r\n\r\n\r\n    /**\r\n     * @param {Node} node - The DOM Node object to render\r\n     * @param {Object} options - Rendering options\r\n     * @param {Function} options.filter - Should return true if passed node should be included in the output\r\n     *          (excluding node means excluding it's children as well). Not called on the root node.\r\n     * @param {String} options.bgcolor - color for the background, any valid CSS color value.\r\n     * @param {Number} options.width - width to be applied to node before rendering.\r\n     * @param {Number} options.height - height to be applied to node before rendering.\r\n     * @param {Object} options.style - an object whose properties to be copied to node's style before rendering.\r\n     * @param {Number} options.quality - a Number between 0 and 1 indicating image quality (applicable to JPEG only),\r\n                defaults to 1.0.\r\n     * @param {String} options.imagePlaceholder - dataURL to use as a placeholder for failed images, default behaviour is to fail fast on images we can't fetch\r\n     * @param {Boolean} options.cacheBust - set to true to cache bust by appending the time to the request url\r\n     * @return {Promise} - A promise that is fulfilled with a SVG image data URL\r\n     * */\r\n    function toSvg(node, options) {\r\n        options = options || {};\r\n        copyOptions(options);\r\n        return Promise.resolve(node)\r\n            .then(function (node) {\r\n                return cloneNode(node, options.filter, true);\r\n            })\r\n            .then(embedFonts)\r\n            .then(inlineImages)\r\n            .then(applyOptions)\r\n            .then(function (clone) {\r\n                return makeSvgDataUri(clone,\r\n                    options.width || util.width(node),\r\n                    options.height || util.height(node)\r\n                );\r\n            });\r\n\r\n        function applyOptions(clone) {\r\n            if (options.bgcolor) clone.style.backgroundColor = options.bgcolor;\r\n\r\n            if (options.width) clone.style.width = options.width + 'px';\r\n            if (options.height) clone.style.height = options.height + 'px';\r\n\r\n            if (options.style)\r\n                Object.keys(options.style).forEach(function (property) {\r\n                    clone.style[property] = options.style[property];\r\n                });\r\n\r\n            return clone;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {Node} node - The DOM Node object to render\r\n     * @param {Object} options - Rendering options, @see {@link toSvg}\r\n     * @return {Promise} - A promise that is fulfilled with a Uint8Array containing RGBA pixel data.\r\n     * */\r\n    function toPixelData(node, options) {\r\n        return draw(node, options || {})\r\n            .then(function (canvas) {\r\n                return canvas.getContext('2d').getImageData(\r\n                    0,\r\n                    0,\r\n                    util.width(node),\r\n                    util.height(node)\r\n                ).data;\r\n            });\r\n    }\r\n\r\n    /**\r\n     * @param {Node} node - The DOM Node object to render\r\n     * @param {Object} options - Rendering options, @see {@link toSvg}\r\n     * @return {Promise} - A promise that is fulfilled with a PNG image data URL\r\n     * */\r\n    function toPng(node, options) {\r\n        return draw(node, options || {})\r\n            .then(function (canvas) {\r\n                return canvas.toDataURL();\r\n            });\r\n    }\r\n\r\n    /**\r\n     * @param {Node} node - The DOM Node object to render\r\n     * @param {Object} options - Rendering options, @see {@link toSvg}\r\n     * @return {Promise} - A promise that is fulfilled with a JPEG image data URL\r\n     * */\r\n    function toJpeg(node, options) {\r\n        options = options || {};\r\n        return draw(node, options)\r\n            .then(function (canvas) {\r\n                return canvas.toDataURL('image/jpeg', options.quality || 1.0);\r\n            });\r\n    }\r\n\r\n    /**\r\n     * @param {Node} node - The DOM Node object to render\r\n     * @param {Object} options - Rendering options, @see {@link toSvg}\r\n     * @return {Promise} - A promise that is fulfilled with a PNG image blob\r\n     * */\r\n    function toBlob(node, options) {\r\n        return draw(node, options || {})\r\n            .then(util.canvasToBlob);\r\n    }\r\n\r\n    function copyOptions(options) {\r\n        // Copy options to impl options for use in impl\r\n        if(typeof(options.imagePlaceholder) === 'undefined') {\r\n            domtoimage.impl.options.imagePlaceholder = defaultOptions.imagePlaceholder;\r\n        } else {\r\n            domtoimage.impl.options.imagePlaceholder = options.imagePlaceholder;\r\n        }\r\n\r\n        if(typeof(options.cacheBust) === 'undefined') {\r\n            domtoimage.impl.options.cacheBust = defaultOptions.cacheBust;\r\n        } else {\r\n            domtoimage.impl.options.cacheBust = options.cacheBust;\r\n        }\r\n    }\r\n\r\n    function draw(domNode, options) {\r\n        return toSvg(domNode, options)\r\n            .then(util.makeImage)\r\n            .then(util.delay(100))\r\n            .then(function (image) {\r\n                var canvas = newCanvas(domNode);\r\n                var ctx = canvas.getContext('2d');\r\n                if (options.scale) {\r\n                    ctx.scale(options.scale, options.scale);\r\n                }\r\n                ctx.drawImage(image, 0, 0);\r\n                return canvas;\r\n            });\r\n\r\n        function newCanvas(domNode) {\r\n            var canvas = document.createElement('canvas');\r\n            if (options.scale) {\r\n                canvas.width = options.width || options.scale * util.width(domNode);\r\n                canvas.height = options.height || options.scale * util.height(domNode);\r\n            }\r\n            else {\r\n                canvas.width = options.width || util.width(domNode);\r\n                canvas.height = options.height || util.height(domNode);\r\n            }\r\n            if (options.bgcolor) {\r\n                var ctx = canvas.getContext('2d');\r\n                ctx.fillStyle = options.bgcolor;\r\n                ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n            }\r\n\r\n            return canvas;\r\n        }\r\n    }\r\n\r\n    function cloneNode(node, filter, root) {\r\n        if (!root && filter && !filter(node)) return Promise.resolve();\r\n\r\n        return Promise.resolve(node)\r\n            .then(makeNodeCopy)\r\n            .then(function (clone) {\r\n                return cloneChildren(node, clone, filter);\r\n            })\r\n            .then(function (clone) {\r\n                return processClone(node, clone);\r\n            });\r\n\r\n        function makeNodeCopy(node) {\r\n            if (node instanceof HTMLCanvasElement) return util.makeImage(node.toDataURL());\r\n            return node.cloneNode(false);\r\n        }\r\n\r\n        function cloneChildren(original, clone, filter) {\r\n            var children = original.childNodes;\r\n            if (children.length === 0) return Promise.resolve(clone);\r\n\r\n            return cloneChildrenInOrder(clone, util.asArray(children), filter)\r\n                .then(function () {\r\n                    return clone;\r\n                });\r\n\r\n            function cloneChildrenInOrder(parent, children, filter) {\r\n                var done = Promise.resolve();\r\n                children.forEach(function (child) {\r\n                    done = done\r\n                        .then(function () {\r\n                            return cloneNode(child, filter);\r\n                        })\r\n                        .then(function (childClone) {\r\n                            if (childClone) parent.appendChild(childClone);\r\n                        });\r\n                });\r\n                return done;\r\n            }\r\n        }\r\n\r\n        function processClone(original, clone) {\r\n            if (!(clone instanceof Element)) return clone;\r\n\r\n            return Promise.resolve()\r\n                .then(cloneStyle)\r\n                .then(clonePseudoElements)\r\n                .then(copyUserInput)\r\n                .then(fixSvg)\r\n                .then(function () {\r\n                    return clone;\r\n                });\r\n\r\n            function cloneStyle() {\r\n                copyStyle(window.getComputedStyle(original), clone.style);\r\n\r\n                function copyStyle(source, target) {\r\n                    if (source.cssText) target.cssText = source.cssText;\r\n                    else copyProperties(source, target);\r\n\r\n                    function copyProperties(source, target) {\r\n                        util.asArray(source).forEach(function (name) {\r\n                            target.setProperty(\r\n                                name,\r\n                                source.getPropertyValue(name),\r\n                                source.getPropertyPriority(name)\r\n                            );\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n\r\n            function clonePseudoElements() {\r\n                [':before', ':after'].forEach(function (element) {\r\n                    clonePseudoElement(element);\r\n                });\r\n\r\n                function clonePseudoElement(element) {\r\n                    var style = window.getComputedStyle(original, element);\r\n                    var content = style.getPropertyValue('content');\r\n\r\n                    if (content === '' || content === 'none') return;\r\n\r\n                    var className = util.uid();\r\n                    clone.className = clone.className + ' ' + className;\r\n                    var styleElement = document.createElement('style');\r\n                    styleElement.appendChild(formatPseudoElementStyle(className, element, style));\r\n                    clone.appendChild(styleElement);\r\n\r\n                    function formatPseudoElementStyle(className, element, style) {\r\n                        var selector = '.' + className + ':' + element;\r\n                        var cssText = style.cssText ? formatCssText(style) : formatCssProperties(style);\r\n                        return document.createTextNode(selector + '{' + cssText + '}');\r\n\r\n                        function formatCssText(style) {\r\n                            var content = style.getPropertyValue('content');\r\n                            return style.cssText + ' content: ' + content + ';';\r\n                        }\r\n\r\n                        function formatCssProperties(style) {\r\n\r\n                            return util.asArray(style)\r\n                                .map(formatProperty)\r\n                                .join('; ') + ';';\r\n\r\n                            function formatProperty(name) {\r\n                                return name + ': ' +\r\n                                    style.getPropertyValue(name) +\r\n                                    (style.getPropertyPriority(name) ? ' !important' : '');\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            function copyUserInput() {\r\n                if (original instanceof HTMLTextAreaElement) clone.innerHTML = original.value;\r\n                if (original instanceof HTMLInputElement) clone.setAttribute(\"value\", original.value);\r\n            }\r\n\r\n            function fixSvg() {\r\n                if (!(clone instanceof SVGElement)) return;\r\n                clone.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\r\n\r\n                if (!(clone instanceof SVGRectElement)) return;\r\n                ['width', 'height'].forEach(function (attribute) {\r\n                    var value = clone.getAttribute(attribute);\r\n                    if (!value) return;\r\n\r\n                    clone.style.setProperty(attribute, value);\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    function embedFonts(node) {\r\n        return fontFaces.resolveAll()\r\n            .then(function (cssText) {\r\n                var styleNode = document.createElement('style');\r\n                node.appendChild(styleNode);\r\n                styleNode.appendChild(document.createTextNode(cssText));\r\n                return node;\r\n            });\r\n    }\r\n\r\n    function inlineImages(node) {\r\n        return images.inlineAll(node)\r\n            .then(function () {\r\n                return node;\r\n            });\r\n    }\r\n\r\n    function makeSvgDataUri(node, width, height) {\r\n        return Promise.resolve(node)\r\n            .then(function (node) {\r\n                node.setAttribute('xmlns', 'http://www.w3.org/1999/xhtml');\r\n                return new XMLSerializer().serializeToString(node);\r\n            })\r\n            .then(util.escapeXhtml)\r\n            .then(function (xhtml) {\r\n                return '<foreignObject x=\"0\" y=\"0\" width=\"100%\" height=\"100%\">' + xhtml + '</foreignObject>';\r\n            })\r\n            .then(function (foreignObject) {\r\n                return '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"' + width + '\" height=\"' + height + '\">' +\r\n                    foreignObject + '</svg>';\r\n            })\r\n            .then(function (svg) {\r\n                return 'data:image/svg+xml;charset=utf-8,' + svg;\r\n            });\r\n    }\r\n\r\n    function newUtil() {\r\n        return {\r\n            escape: escape,\r\n            parseExtension: parseExtension,\r\n            mimeType: mimeType,\r\n            dataAsUrl: dataAsUrl,\r\n            isDataUrl: isDataUrl,\r\n            canvasToBlob: canvasToBlob,\r\n            resolveUrl: resolveUrl,\r\n            getAndEncode: getAndEncode,\r\n            uid: uid(),\r\n            delay: delay,\r\n            asArray: asArray,\r\n            escapeXhtml: escapeXhtml,\r\n            makeImage: makeImage,\r\n            width: width,\r\n            height: height\r\n        };\r\n\r\n        function mimes() {\r\n            /*\r\n             * Only WOFF and EOT mime types for fonts are 'real'\r\n             * see http://www.iana.org/assignments/media-types/media-types.xhtml\r\n             */\r\n            var WOFF = 'application/font-woff';\r\n            var JPEG = 'image/jpeg';\r\n\r\n            return {\r\n                'woff': WOFF,\r\n                'woff2': WOFF,\r\n                'ttf': 'application/font-truetype',\r\n                'eot': 'application/vnd.ms-fontobject',\r\n                'png': 'image/png',\r\n                'jpg': JPEG,\r\n                'jpeg': JPEG,\r\n                'gif': 'image/gif',\r\n                'tiff': 'image/tiff',\r\n                'svg': 'image/svg+xml'\r\n            };\r\n        }\r\n\r\n        function parseExtension(url) {\r\n            var match = /\\.([^\\.\\/]*?)$/g.exec(url);\r\n            if (match) return match[1];\r\n            else return '';\r\n        }\r\n\r\n        function mimeType(url) {\r\n            var extension = parseExtension(url).toLowerCase();\r\n            return mimes()[extension] || '';\r\n        }\r\n\r\n        function isDataUrl(url) {\r\n            return url.search(/^(data:)/) !== -1;\r\n        }\r\n\r\n        function toBlob(canvas) {\r\n            return new Promise(function (resolve) {\r\n                var binaryString = window.atob(canvas.toDataURL().split(',')[1]);\r\n                var length = binaryString.length;\r\n                var binaryArray = new Uint8Array(length);\r\n\r\n                for (var i = 0; i < length; i++)\r\n                    binaryArray[i] = binaryString.charCodeAt(i);\r\n\r\n                resolve(new Blob([binaryArray], {\r\n                    type: 'image/png'\r\n                }));\r\n            });\r\n        }\r\n\r\n        function canvasToBlob(canvas) {\r\n            if (canvas.toBlob)\r\n                return new Promise(function (resolve) {\r\n                    canvas.toBlob(resolve);\r\n                });\r\n\r\n            return toBlob(canvas);\r\n        }\r\n\r\n        function resolveUrl(url, baseUrl) {\r\n            var doc = document.implementation.createHTMLDocument();\r\n            var base = doc.createElement('base');\r\n            doc.head.appendChild(base);\r\n            var a = doc.createElement('a');\r\n            doc.body.appendChild(a);\r\n            base.href = baseUrl;\r\n            a.href = url;\r\n            return a.href;\r\n        }\r\n\r\n        function uid() {\r\n            var index = 0;\r\n\r\n            return function () {\r\n                return 'u' + fourRandomChars() + index++;\r\n\r\n                function fourRandomChars() {\r\n                    /* see http://stackoverflow.com/a/6248722/2519373 */\r\n                    return ('0000' + (Math.random() * Math.pow(36, 4) << 0).toString(36)).slice(-4);\r\n                }\r\n            };\r\n        }\r\n\r\n        function makeImage(uri) {\r\n            return new Promise(function (resolve, reject) {\r\n                var image = new Image();\r\n                image.onload = function () {\r\n                    resolve(image);\r\n                };\r\n                image.onerror = reject;\r\n                image.src = uri;\r\n            });\r\n        }\r\n\r\n        function getAndEncode(url) {\r\n            var TIMEOUT = 30000;\r\n            if(domtoimage.impl.options.cacheBust) {\r\n                // Cache bypass so we dont have CORS issues with cached images\r\n                // Source: https://developer.mozilla.org/en/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest#Bypassing_the_cache\r\n                url += ((/\\?/).test(url) ? \"&\" : \"?\") + (new Date()).getTime();\r\n            }\r\n\r\n            return new Promise(function (resolve) {\r\n                var request = new XMLHttpRequest();\r\n\r\n                request.onreadystatechange = done;\r\n                request.ontimeout = timeout;\r\n                request.responseType = 'blob';\r\n                request.timeout = TIMEOUT;\r\n                request.open('GET', url, true);\r\n                request.send();\r\n\r\n                var placeholder;\r\n                if(domtoimage.impl.options.imagePlaceholder) {\r\n                    var split = domtoimage.impl.options.imagePlaceholder.split(/,/);\r\n                    if(split && split[1]) {\r\n                        placeholder = split[1];\r\n                    }\r\n                }\r\n\r\n                function done() {\r\n                    if (request.readyState !== 4) return;\r\n\r\n                    if (request.status !== 200) {\r\n                        if(placeholder) {\r\n                            resolve(placeholder);\r\n                        } else {\r\n                            fail('cannot fetch resource: ' + url + ', status: ' + request.status);\r\n                        }\r\n\r\n                        return;\r\n                    }\r\n\r\n                    var encoder = new FileReader();\r\n                    encoder.onloadend = function () {\r\n                        var content = encoder.result.split(/,/)[1];\r\n                        resolve(content);\r\n                    };\r\n                    encoder.readAsDataURL(request.response);\r\n                }\r\n\r\n                function timeout() {\r\n                    if(placeholder) {\r\n                        resolve(placeholder);\r\n                    } else {\r\n                        fail('timeout of ' + TIMEOUT + 'ms occured while fetching resource: ' + url);\r\n                    }\r\n                }\r\n\r\n                function fail(message) {\r\n                    console.error(message);\r\n                    resolve('');\r\n                }\r\n            });\r\n        }\r\n\r\n        function dataAsUrl(content, type) {\r\n            return 'data:' + type + ';base64,' + content;\r\n        }\r\n\r\n        function escape(string) {\r\n            return string.replace(/([.*+?^${}()|\\[\\]\\/\\\\])/g, '\\\\$1');\r\n        }\r\n\r\n        function delay(ms) {\r\n            return function (arg) {\r\n                return new Promise(function (resolve) {\r\n                    setTimeout(function () {\r\n                        resolve(arg);\r\n                    }, ms);\r\n                });\r\n            };\r\n        }\r\n\r\n        function asArray(arrayLike) {\r\n            var array = [];\r\n            var length = arrayLike.length;\r\n            for (var i = 0; i < length; i++) array.push(arrayLike[i]);\r\n            return array;\r\n        }\r\n\r\n        function escapeXhtml(string) {\r\n            return string.replace(/#/g, '%23').replace(/\\n/g, '%0A');\r\n        }\r\n\r\n        function width(node) {\r\n            var leftBorder = px(node, 'border-left-width');\r\n            var rightBorder = px(node, 'border-right-width');\r\n            return node.scrollWidth + leftBorder + rightBorder;\r\n        }\r\n\r\n        function height(node) {\r\n            var topBorder = px(node, 'border-top-width');\r\n            var bottomBorder = px(node, 'border-bottom-width');\r\n            return node.scrollHeight + topBorder + bottomBorder;\r\n        }\r\n\r\n        function px(node, styleProperty) {\r\n            var value = window.getComputedStyle(node).getPropertyValue(styleProperty);\r\n            return parseFloat(value.replace('px', ''));\r\n        }\r\n    }\r\n\r\n    function newInliner() {\r\n        var URL_REGEX = /url\\(['\"]?([^'\"]+?)['\"]?\\)/g;\r\n\r\n        return {\r\n            inlineAll: inlineAll,\r\n            shouldProcess: shouldProcess,\r\n            impl: {\r\n                readUrls: readUrls,\r\n                inline: inline\r\n            }\r\n        };\r\n\r\n        function shouldProcess(string) {\r\n            return string.search(URL_REGEX) !== -1;\r\n        }\r\n\r\n        function readUrls(string) {\r\n            var result = [];\r\n            var match;\r\n            while ((match = URL_REGEX.exec(string)) !== null) {\r\n                result.push(match[1]);\r\n            }\r\n            return result.filter(function (url) {\r\n                return !util.isDataUrl(url);\r\n            });\r\n        }\r\n\r\n        function inline(string, url, baseUrl, get) {\r\n            return Promise.resolve(url)\r\n                .then(function (url) {\r\n                    return baseUrl ? util.resolveUrl(url, baseUrl) : url;\r\n                })\r\n                .then(get || util.getAndEncode)\r\n                .then(function (data) {\r\n                    return util.dataAsUrl(data, util.mimeType(url));\r\n                })\r\n                .then(function (dataUrl) {\r\n                    return string.replace(urlAsRegex(url), '$1' + dataUrl + '$3');\r\n                });\r\n\r\n            function urlAsRegex(url) {\r\n                return new RegExp('(url\\\\([\\'\"]?)(' + util.escape(url) + ')([\\'\"]?\\\\))', 'g');\r\n            }\r\n        }\r\n\r\n        function inlineAll(string, baseUrl, get) {\r\n            if (nothingToInline()) return Promise.resolve(string);\r\n\r\n            return Promise.resolve(string)\r\n                .then(readUrls)\r\n                .then(function (urls) {\r\n                    var done = Promise.resolve(string);\r\n                    urls.forEach(function (url) {\r\n                        done = done.then(function (string) {\r\n                            return inline(string, url, baseUrl, get);\r\n                        });\r\n                    });\r\n                    return done;\r\n                });\r\n\r\n            function nothingToInline() {\r\n                return !shouldProcess(string);\r\n            }\r\n        }\r\n    }\r\n\r\n    function newFontFaces() {\r\n        return {\r\n            resolveAll: resolveAll,\r\n            impl: {\r\n                readAll: readAll\r\n            }\r\n        };\r\n\r\n        function resolveAll() {\r\n            return readAll(document)\r\n                .then(function (webFonts) {\r\n                    return Promise.all(\r\n                        webFonts.map(function (webFont) {\r\n                            return webFont.resolve();\r\n                        })\r\n                    );\r\n                })\r\n                .then(function (cssStrings) {\r\n                    return cssStrings.join('\\n');\r\n                });\r\n        }\r\n\r\n        function readAll() {\r\n            return Promise.resolve(util.asArray(document.styleSheets))\r\n                .then(getCssRules)\r\n                .then(selectWebFontRules)\r\n                .then(function (rules) {\r\n                    return rules.map(newWebFont);\r\n                });\r\n\r\n            function selectWebFontRules(cssRules) {\r\n                return cssRules\r\n                    .filter(function (rule) {\r\n                        return rule.type === CSSRule.FONT_FACE_RULE;\r\n                    })\r\n                    .filter(function (rule) {\r\n                        return inliner.shouldProcess(rule.style.getPropertyValue('src'));\r\n                    });\r\n            }\r\n\r\n            function getCssRules(styleSheets) {\r\n                var cssRules = [];\r\n                styleSheets.forEach(function (sheet) {\r\n                    try {\r\n                        util.asArray(sheet.cssRules || []).forEach(cssRules.push.bind(cssRules));\r\n                    } catch (e) {\r\n                        console.log('Error while reading CSS rules from ' + sheet.href, e.toString());\r\n                    }\r\n                });\r\n                return cssRules;\r\n            }\r\n\r\n            function newWebFont(webFontRule) {\r\n                return {\r\n                    resolve: function resolve() {\r\n                        var baseUrl = (webFontRule.parentStyleSheet || {}).href;\r\n                        return inliner.inlineAll(webFontRule.cssText, baseUrl);\r\n                    },\r\n                    src: function () {\r\n                        return webFontRule.style.getPropertyValue('src');\r\n                    }\r\n                };\r\n            }\r\n        }\r\n    }\r\n\r\n    function newImages() {\r\n        return {\r\n            inlineAll: inlineAll,\r\n            impl: {\r\n                newImage: newImage\r\n            }\r\n        };\r\n\r\n        function newImage(element) {\r\n            return {\r\n                inline: inline\r\n            };\r\n\r\n            function inline(get) {\r\n                if (util.isDataUrl(element.src)) return Promise.resolve();\r\n\r\n                return Promise.resolve(element.src)\r\n                    .then(get || util.getAndEncode)\r\n                    .then(function (data) {\r\n                        return util.dataAsUrl(data, util.mimeType(element.src));\r\n                    })\r\n                    .then(function (dataUrl) {\r\n                        return new Promise(function (resolve, reject) {\r\n                            element.onload = resolve;\r\n                            element.onerror = reject;\r\n                            element.src = dataUrl;\r\n                        });\r\n                    });\r\n            }\r\n        }\r\n\r\n        function inlineAll(node) {\r\n            if (!(node instanceof Element)) return Promise.resolve(node);\r\n\r\n            return inlineBackground(node)\r\n                .then(function () {\r\n                    if (node instanceof HTMLImageElement)\r\n                        return newImage(node).inline();\r\n                    else\r\n                        return Promise.all(\r\n                            util.asArray(node.childNodes).map(function (child) {\r\n                                return inlineAll(child);\r\n                            })\r\n                        );\r\n                });\r\n\r\n            function inlineBackground(node) {\r\n                var background = node.style.getPropertyValue('background');\r\n\r\n                if (!background) return Promise.resolve(node);\r\n\r\n                return inliner.inlineAll(background)\r\n                    .then(function (inlined) {\r\n                        node.style.setProperty(\r\n                            'background',\r\n                            inlined,\r\n                            node.style.getPropertyPriority('background')\r\n                        );\r\n                    })\r\n                    .then(function () {\r\n                        return node;\r\n                    });\r\n            }\r\n        }\r\n    }\r\n})(this);\r\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-phone-feature-list',\n  templateUrl: './phone-feature-list.component.html',\n  styleUrls: ['./phone-feature-list.component.scss']\n})\nexport class PhoneFeatureListComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<p>phone-feature-list works!</p>\n","import { Component, OnInit, ChangeDetectionStrategy, Input, EventEmitter, Output } from '@angular/core';\r\nimport { Phone } from '../models/phone';\r\n\r\n@Component({\r\n  selector: 'app-phone-item',\r\n  templateUrl: './phone-item.component.html',\r\n  styleUrls: ['./phone-item.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class PhoneItemComponent implements OnInit {\r\n  @Input() phone: Phone;\r\n\r\n  @Output() selected: EventEmitter<Phone> = new EventEmitter<Phone>();\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  onExport(): void {\r\n    this.selected.emit(this.phone);\r\n  }\r\n\r\n}\r\n","<div class=\"phone-frame\">\r\n  <img class=\"phone-image\" [src]=\"phone.picture\" [alt]=\"phone.name\" />\r\n  <div class=\"caption\">\r\n    <div class=\"phone-name\">{{ phone.name }}</div>\r\n  </div>\r\n  <button class=\"btn-action\" mat-flat-button color=\"primary\" (click)=\"onExport()\">Xuất ảnh</button>\r\n</div>","import { Component, OnInit, ChangeDetectionStrategy, Output, EventEmitter } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { Phone } from '../models/phone';\r\nimport { PhoneService } from '../services/phones.service';\r\nimport { PhoneFlyerService } from '../services/phone-flyer.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-phone-list',\r\n  templateUrl: './phone-list.component.html',\r\n  styleUrls: ['./phone-list.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class PhoneListComponent implements OnInit {\r\n  phones$: Observable<Phone[]>;\r\n\r\n  @Output() selected: EventEmitter<Phone> = new EventEmitter<Phone>();\r\n\r\n  constructor(\r\n    private phoneService: PhoneService,\r\n    private phoneFlyerService: PhoneFlyerService,\r\n    private router: Router\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.phones$ = this.phoneService.getAllPhones();\r\n  }\r\n\r\n  public selectPhone(phone: Phone): void {\r\n    this.phoneFlyerService.setSelectedPhone(phone);\r\n\r\n    this.selected.emit(phone);\r\n\r\n    // this.router.navigateByUrl('/print');\r\n  }\r\n}\r\n","<div class=\"phone-list-wrapper\">\r\n    <app-phone-item\r\n        *ngFor=\"let phone of phones$ | async\"\r\n        [phone]=\"phone\"\r\n        (selected)=\"selectPhone(phone)\"\r\n        class=\"phone-item\"\r\n    ></app-phone-item>\r\n</div>","import { PipeTransform, Pipe } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\n@Pipe({ name: 'backgroundImage' })\r\nexport class BackgroundImagePipe implements PipeTransform {\r\n    constructor(private sanitization: DomSanitizer) { }\r\n\r\n    transform(url: string, defaultUrl: string = ''): any {\r\n        const imageUrl = !!url ? url : defaultUrl;\r\n        return !!imageUrl ? this.sanitization.bypassSecurityTrustStyle(`url(${imageUrl})`) : '';\r\n    }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { PhoneFlyerService } from '../services/phone-flyer.service';\r\nimport { Phone } from '../models/phone';\r\nimport { SalePerson } from '../models/sale-person';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-printing-page',\r\n  templateUrl: './printing-page.component.html',\r\n  styleUrls: ['./printing-page.component.scss']\r\n})\r\nexport class PrintingPageComponent implements OnInit {\r\n  selectedPhone: Phone;\r\n  salePerson: SalePerson;\r\n\r\n  constructor(\r\n    private phoneFlyerService: PhoneFlyerService,\r\n    private router: Router\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.selectedPhone = this.phoneFlyerService.getSelectedPhone();\r\n    this.salePerson = this.phoneFlyerService.getSalePersonInfo();\r\n\r\n    // if (!this.selectedPhone) {\r\n    //   this.router.navigate()\r\n    // }\r\n  }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-promotion-list',\n  templateUrl: './promotion-list.component.html',\n  styleUrls: ['./promotion-list.component.scss']\n})\nexport class PromotionListComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<p>promotion-list works!</p>\n","import domtoimage from 'src/app/libs/dom-to-image';\r\nimport { Injectable } from '@angular/core';\r\nimport { saveAs } from 'file-saver';\r\n\r\n@Injectable()\r\nexport class CaptureScreenshotService {\r\n    capture(node: HTMLElement, name: string): void {\r\n        domtoimage.toBlob(node, {scale: 2.5})\r\n            .then(blob => {\r\n                saveAs(blob, `${name}.png`);\r\n            });\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Phone } from '../models/phone';\r\nimport { SalePerson } from '../models/sale-person';\r\nimport { PhoneFlyer } from '../models/phone-flyer';\r\n\r\nconst SALE_PERSON_STORE_KEY = 'oppo-promotion-sale-person';\r\n\r\n@Injectable()\r\nexport class PhoneFlyerService {\r\n    private selectedPhone: Phone;\r\n    private salePerson: SalePerson;\r\n\r\n\r\n    setSelectedPhone(phone: Phone): void {\r\n        this.selectedPhone = phone;\r\n    }\r\n\r\n    getSelectedPhone(): Phone {\r\n        return this.selectedPhone;\r\n    }\r\n\r\n    setSalePersonInfo(person: SalePerson): void {\r\n        this.salePerson = person;\r\n        localStorage.setItem(SALE_PERSON_STORE_KEY, JSON.stringify(person));\r\n    }\r\n\r\n    getSalePersonInfo(): SalePerson {\r\n        if (!this.salePerson) {\r\n            const data = localStorage.getItem(SALE_PERSON_STORE_KEY);\r\n            if (!!data) {\r\n                this.salePerson = JSON.parse(data);\r\n            }\r\n        }\r\n\r\n        // fallback default value\r\n        if (!this.salePerson) {\r\n            this.salePerson = {\r\n                name: '',\r\n                phone: '',\r\n                storeAddress: ''\r\n            };\r\n        }\r\n\r\n        return this.salePerson;\r\n    }\r\n\r\n    generateFlyerInfo(): PhoneFlyer {\r\n        return {\r\n            selectedPhone: this.selectedPhone,\r\n            salePerson: this.salePerson\r\n        };\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { Phone } from '../models/phone';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class PhoneService {\r\n    /**\r\n     *\r\n     */\r\n    constructor(private http: HttpClient) {\r\n    }\r\n\r\n    getAllPhones(): Observable<Phone[]> {\r\n        return this.http.get<Phone[]>('assets/api/phones.json').pipe(map(phones => phones.map(phone => ({\r\n            ...phone,\r\n            picture: `assets/images/${phone.picture}`,\r\n            promotion: `assets/images/${phone.promotion}`,\r\n        }))));\r\n    }\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"]}